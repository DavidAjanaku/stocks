// Version 20
function $bw_getBrowser() {
    var donotnotify = false;
    var n, t, ua = navigator.userAgent;
    var icons = {
        i : 'fa-internet-explorer',
        e : 'fa-edge',
        f : 'fa-firefox',
        o : 'fa-opera',
        s : 'fa-safari',
        c : "fa-chrome"
    };
    var names = {
        i : 'Internet Explorer',
        e : 'Edge',
        f : 'Firefox',
        o : 'Opera',
        s : 'Safari',
        c : "Chrome",
        x : "Other"
    };
    if (/bot|googlebot|facebook|slurp|wii|maxthon|maxton|mediapartners|dolfin|dolphin|adsbot|silk|bingbot|google web preview|chromeframe|seamonkey|opera mini|meego|netfront|moblin|maemo|arora|camino|flot|k-meleon|fennec|kazehakase|galeon|epiphany|konqueror|rekonq|symbian|webos|coolnovo|blackberry|bb10|RIM|PlayBook|PaleMoon|QupZilla|Otter|Midori|qutebrowser/i.test(ua)) {
        return {
            n : "x",
            v : 0,
            t : "unknown",
            donotnotify : "niche browser"
        };
    }
    if (/iphone|ipod|ipad|kindle/i.test(ua)) {
        return {
            n : "x",
            v : 0,
            t : "mobile browser",
            donotnotify : "mobile"
        };
    }
    var mobile = (/iphone|ipod|ipad|android|mobile|phone|ios|iemobile/i.test(ua));
    var pats = [ [ "Trident.*rv:VV", "i" ], [ "Trident.VV", "io" ], [ "MSIE.VV", "i" ], [ "Edge.VV", "e" ], [ "OPR.VV", "o" ], [ "Chrome.VV", "c" ], [ "Firefox.VV", "f" ], [ "Version.VV.{0,10}Safari", "s" ], [ "Safari.VV", "so" ], [ "Opera.*Version.VV", "o" ], [ "Opera.VV", "o" ] ];
    for (var i = 0; i < pats.length; i++) {
        if (ua.match(new RegExp(pats[i][0].replace("VV", "(\\d+\\.?\\d?)")), "i")) {
            n = pats[i][1];
            break;
        }
    }
    var v = parseFloat(RegExp.$1);
    if (!n)
        return {
            n : "x",
            v : 0,
            t : names[n],
            mobile : mobile
        };
    if (/windows.nt.5.0|windows.nt.4.0|windows.98|os x 10.4|os x 10.5|os x 10.3|os x 10.2/.test(ua)) {
        donotnotify = "oldOS";
    }
    if (n == "f" && (Math.round(v) == 38 || Math.round(v) == 45)) {
        donotnotify = "ESR"; // Extended Support Release
    }
    if (n == "so") {
        v = 4.0;
        n = "s";
    }
    if (n == "i" && v == 7 && window.XDomainRequest) {
        v = 8;
    }
    if (n == "io") {
        n = "i";
        if (v > 6) {
            v = 11;
        } else if (v > 5) {
            v = 10;
        } else if (v > 4) {
            v = 9;
        } else if (v > 3.1) {
            v = 8;
        } else if (v > 3) {
            v = 7;
        } else {
            v = 9;
        }
    }
    return {
        n : n,
        v : v,
        i : icons[n],
        t : names[n] + " " + v,
        donotnotify : donotnotify,
        mobile : mobile
    };
}

var $bw = function(op) {
    if (document.getElementById("browserWarning")) {
        document.getElementById("browserWarning").style.display = "";
        return;
    }
    this.op = op || {};
    var vs_actual = {
        i : 11,
        e : 18,
        f : 66,
        o : 57,
        s : 12.0,
        c : 73
    };
    var vs_back_support = {
        i : -1,
        e : -2,
        f : -5,
        o : -3,
        s : -2,
        c : -5
    };
    var vs = vs_actual;
    for (b in vs_actual) {
        if (vs_actual[b] && vs_back_support[b] < 0) {
            vs[b] = vs_actual[b] + vs_back_support[b];
        }
    }
    this.op.onshow = op.onshow || function(o) {};
    this.op.onclose = op.onclose || function(o) {};
    this.op.test = op.test || false;
    var browser = $bw_getBrowser();
    if (!this.op.test && (!browser || !browser.n || browser.n == "x" || browser.donotnotify !== false || browser.v > vs[browser.n] || (browser.mobile && op.mobile === false))) {
        return;
    }
    var t = "Your browser is <b>out of date</b>. Update your browser for more security, comfort and the best experience on this website.";
    if (op.text) {
        t = op.text;
    }
    this.op.text = t;
    var section = document.createElement("section");
    this.op.section = section;
    section.id = "browserWarning";
    section.className = "browser-warning";
    section.innerHTML = "<div class='container-fluid'><div class='row align-items-center'><div class='col-12 col-sm-2 order-sm-3'><p class='browser-close'><i class='fa fa-times'></i></p></div><div class='col-12 col-sm-2 order-sm-1'><p class='browser-version'><i class='fab " + browser.i + "'></i>" + browser.t + "</p></div><div class='col-12 col-sm-8 order-sm-2'><p class='browser-message'>" + this.op.text + "</p></div></div></div>";
    document.body.insertBefore(section, document.body.firstChild);
    var me = this;
    (function(me) {
        document.getElementsByClassName("browser-close")[0].onclick = function(e) {
            e = e || window.event;
            if (e.stopPropagation) {
                e.stopPropagation();
            } else {
                e.cancelBubble = true;
            }
            me.op.section.style.display = "none";
            me.op.onclose(me.op);
            return true;
        };
    })(me);
    op.onshow(this.op);
};

//# sourceURL=browserWarning.js